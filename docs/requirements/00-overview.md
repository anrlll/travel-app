# TravelApp 要件定義 - 概要

**プロジェクト名**: TravelApp
**バージョン**: 1.0.0
**最終更新日**: 2025-10-13
**ステータス**: 要件定義中

---

## プロジェクト概要

TravelAppは、ユーザーが旅行の計画、予約、管理を簡単に行えるようにするためのWebアプリケーションです。

### 目的
- 旅行計画の効率化
- 予算管理の簡素化
- 旅の思い出を記録・共有
- 多言語対応による幅広いユーザー層への対応

---

## 主要機能

### 1. 旅行プラン検索 ✅
**ステータス**: 確定
**詳細**: [01-search-and-proposal.md](./01-search-and-proposal.md)

- 作成済み旅行プランの検索（タイトル・目的地・日付・タグ・ステータス）
- 複数条件フィルタリング
- リスト/カード/地図形式での表示

### 2. 旅行プランの作成と管理 ✅
**ステータス**: 確定
**詳細**: [02-itinerary-management.md](./02-itinerary-management.md)

**NEW: キャンバスベース作成画面** ⭐
- Miro風無限キャンバス
- アクティビティカードを自由配置
- 複数プラン案を同時作成・比較
- **詳細**: [02-1-canvas-planning.md](./02-1-canvas-planning.md)

従来機能:
- 日程管理
- アクティビティ追加・編集
- 複数旅行プランの管理

### 3. 予算管理 ✅
**ステータス**: 確定
**詳細**: [03-budget-management.md](./03-budget-management.md)

- 費目別予算管理
- 実費との比較
- グラフ表示

### 4. 思い出の記録と共有 📝
**ステータス**: 部分確定（基本記録機能は確定、アルバム機能は後回し）
**優先度**: 低
**詳細**: [04-memory-sharing.md](./04-memory-sharing.md)

**Phase 1-2 実装範囲**:
- 写真・動画・テキスト・位置情報・評価の記録
- 旅行プランへの紐付け
- タグ・検索・フィルタリング
- 簡易一覧表示

**Phase 3（後回し）**:
- アルバム機能（自動作成・複数管理）
- 共有リンク生成・プライバシー設定

### 5. ユーザー管理と認証 ✅
**ステータス**: 確定
**詳細**: [05-authentication.md](./05-authentication.md)

- JWT + セッションハイブリッド認証
- ユーザープロフィール管理
- パスワードリセット機能

### 6. 多言語対応 ✅
**ステータス**: 確定
**詳細**: [08-i18n.md](./08-i18n.md)

- 日本語・英語対応
- 追加言語の検討

---

## 非機能要件 📝

**詳細**: [06-non-functional.md](./06-non-functional.md)

- パフォーマンス要件
- セキュリティ要件
- 可用性・スケーラビリティ
- デバイス対応
- アクセシビリティ

---

## 外部サービス連携

**詳細**: [07-external-services.md](./07-external-services.md)

### 確定済みAPI（6種）
- **地図**: OpenStreetMap + Leaflet
- **天気**: OpenWeatherMap
- **観光地**: OpenTripMap
- **レストラン**: Foursquare Places API
- **画像**: Cloudinary（使用量監視機能あり、将来的にCloudflare R2へ移行）
- **メール**: Resend

---

## 技術スタック（予定）

### フロントエンド
- React 18 + TypeScript 5
- Vite 5
- Tailwind CSS + shadcn/ui
- Zustand（状態管理）
- React Router v6
- TanStack Query（データフェッチング）

### 開発ツール
- ESLint + Prettier
- Vitest（ユニットテスト）
- React Testing Library
- Playwright（E2Eテスト）

---

## プロジェクト構造

```
TravelApp/
├── src/
│   ├── components/     # UIコンポーネント
│   ├── services/       # ビジネスロジック・API呼び出し
│   ├── models/         # データモデル・型定義
│   ├── utils/          # ユーティリティ関数
│   ├── config/         # 設定ファイル
│   ├── hooks/          # カスタムフック
│   └── tests/          # テストファイル
├── public/             # 静的ファイル
├── docs/               # ドキュメント
│   └── requirements/   # 要件定義書
└── scripts/            # ビルド・デプロイスクリプト
```

---

## 開発フェーズ

### フェーズ1: MVP（最小実用製品） - 優先度: 高
- 旅行先の検索と表示
- キャンバスベース旅行プラン作成（複数プラン案の作成・比較）
- 基本的な旅行プラン作成
- シンプルな予算管理
- PostgreSQLデータベース保存

### フェーズ2: 機能拡張 - 優先度: 中
- 提案アルゴリズム
- 詳細な予算分析
- 思い出の基本記録（写真・動画・評価・タグ・検索）
- クラウド同期

### フェーズ3: 高度な機能 - 優先度: 低
- 共同編集機能
- テンプレート機能
- AI による旅行提案
- アルバム機能・共有リンク機能

---

## 制約事項

### 技術的制約
- Node.js v18以上必須
- TypeScript厳格モード使用
- テストカバレッジ80%以上

### ビジネス的制約
- 無料APIの使用を優先
- API制限内での運用
  - OpenWeatherMap: 1日1,000回まで
  - Foursquare: 1日999回まで

---

## 成功基準

- ユーザーが旅行計画を30分以内に作成できる
- 予算管理により旅行費用を可視化できる
- レスポンシブデザインによりモバイルでも快適に使用できる
- テストカバレッジ80%以上を達成
- 主要機能のE2Eテストが全てパス

---

## 今後の予定

1. ✅ 旅行プラン検索 - 要件確定
2. ✅ 旅行プランの作成と管理（キャンバスベース含む） - 要件確定
3. ✅ 予算管理 - 要件確定
4. ✅ 思い出の記録と共有 - 要件確定
5. ✅ 多言語対応 - 要件確定
6. 📝 非機能要件 - レビュー中
7. 🚀 技術設計・実装開始

---

## 関連ドキュメント

- [CLAUDE.md](../../CLAUDE.md) - 実装ルールとガイドライン
- [README.md](../../README.md) - プロジェクト概要
- [要件定義一覧](./README.md) - 各機能の詳細要件
